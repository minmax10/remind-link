# 📱 인스타그램 연동 완전 가이드

## 인스타그램 연동 기능

Remind Link는 인스타그램에 저장한 게시물을 자동으로 수집하고 분류해주는 기능을 제공합니다.

---

## 🚀 빠른 시작

### 1단계: 서비스 접속

1. 배포된 프론트엔드 URL 접속
   - 예: `https://remind-link.vercel.app`
2. 회원가입 또는 로그인

### 2단계: 인스타그램 연동

1. 메인 페이지에서 **"인스타그램 연동"** 버튼 클릭
2. 모달 창에서 인스타그램 정보 입력:
   - **사용자명**: 인스타그램 사용자명
   - **비밀번호**: 인스타그램 비밀번호
3. **"연동하기"** 버튼 클릭
4. 연동 완료 확인

### 3단계: 저장된 게시물 동기화

1. 메인 페이지에서 **"동기화"** 버튼 클릭
2. 저장된 게시물 자동 수집 시작
3. 게시물 목록 표시

---

## 🔐 2단계 인증 사용자

인스타그램에서 2단계 인증이 활성화된 경우, 일반 비밀번호 대신 **앱 비밀번호**를 사용해야 합니다.

### 앱 비밀번호 생성 방법

1. **인스타그램 앱 열기**
2. **프로필** → **설정** (우측 상단 톱니바퀴 아이콘)
3. **보안** → **2단계 인증**
4. **앱 비밀번호** 선택
5. **새 앱 비밀번호 만들기** 클릭
6. 앱 이름 입력 (예: "Remind Link" 또는 "remind-link")
7. **생성** 클릭
8. 생성된 비밀번호 복사 (한 번만 표시됨)
9. 연동 시 이 비밀번호 사용

### 앱 비밀번호 사용 시 주의사항

- ⚠️ 앱 비밀번호는 한 번만 표시되므로 안전하게 보관
- ⚠️ 일반 비밀번호가 아닌 앱 비밀번호를 사용해야 함
- ⚠️ 앱 비밀번호는 일반 비밀번호와 다름

---

## 📋 인스타그램 연동 프로세스

### 백엔드 동작 방식

1. **연동 요청**
   - 사용자가 인스타그램 사용자명과 비밀번호 입력
   - `/api/integrations/instagram/connect` API 호출

2. **인스타그램 로그인**
   - `instagrapi` 라이브러리 사용
   - 인스타그램 계정으로 로그인 시도
   - 로그인 성공 시 세션 저장

3. **연동 정보 저장**
   - 데이터베이스에 연동 정보 저장
   - 사용자 ID와 플랫폼 정보 연결

4. **동기화**
   - `/api/integrations/{id}/sync` API 호출
   - 인스타그램에서 저장된 게시물 수집
   - 게시물 정보를 데이터베이스에 저장

### 프론트엔드 동작 방식

1. **연동 UI**
   - "인스타그램 연동" 버튼 클릭
   - 모달 창에서 사용자명/비밀번호 입력
   - API 호출하여 연동

2. **동기화 UI**
   - "동기화" 버튼 클릭
   - 저장된 게시물 가져오기
   - 게시물 목록 표시

---

## 🔧 문제 해결

### 로그인 실패

**문제**: 인스타그램 로그인에 실패합니다.

**해결 방법**:
1. 사용자명과 비밀번호 확인
2. 2단계 인증 활성화 시 앱 비밀번호 사용
3. 인스타그램 계정이 활성화되어 있는지 확인
4. 인스타그램에서 로그인 제한이 걸려있는지 확인

### 동기화 실패

**문제**: 저장된 게시물을 가져오지 못합니다.

**해결 방법**:
1. 인스타그램 연동이 완료되었는지 확인
2. 인스타그램 계정에 저장된 게시물이 있는지 확인
3. 네트워크 연결 확인
4. 브라우저 콘솔(F12)에서 오류 확인

### 2단계 인증 오류

**문제**: 2단계 인증이 활성화되어 로그인이 안 됩니다.

**해결 방법**:
1. 앱 비밀번호 생성 (위의 "앱 비밀번호 생성 방법" 참고)
2. 일반 비밀번호 대신 앱 비밀번호 사용
3. 앱 비밀번호가 올바른지 확인

### 연동이 계속 실패

**문제**: 여러 번 시도해도 연동이 실패합니다.

**해결 방법**:
1. 인스타그램 계정 상태 확인
2. 다른 브라우저에서 시도
3. 인스타그램 앱에서 로그인하여 계정 상태 확인
4. 인스타그램 보안 설정 확인

---

## 📝 주의사항

### 보안

- ⚠️ 인스타그램 비밀번호는 암호화되어 저장됩니다
- ⚠️ 비밀번호는 안전하게 관리하세요
- ⚠️ 공용 컴퓨터에서는 사용하지 마세요

### 제한사항

- 인스타그램 API 제한에 따라 동기화 속도가 제한될 수 있습니다
- 대량의 저장된 게시물이 있는 경우 시간이 걸릴 수 있습니다
- 인스타그램 정책 변경 시 기능이 작동하지 않을 수 있습니다

### 권장사항

- 정기적으로 동기화하여 최신 게시물 유지
- 2단계 인증 사용 시 앱 비밀번호 사용
- 연동 후 저장된 게시물이 정상적으로 표시되는지 확인

---

## 🎯 사용 시나리오

### 시나리오 1: 처음 사용하는 경우

1. 서비스 회원가입
2. 인스타그램 연동
3. 동기화하여 저장된 게시물 확인

### 시나리오 2: 이미 연동한 경우

1. 로그인
2. 동기화 버튼 클릭하여 최신 게시물 가져오기

### 시나리오 3: 새로운 저장 게시물 확인

1. 인스타그램에서 게시물 저장
2. Remind Link에서 동기화 버튼 클릭
3. 새로 저장한 게시물 확인

---

## 📞 추가 도움

문제가 계속되면:
1. 브라우저 개발자 도구(F12) → Console 탭 확인
2. Network 탭에서 API 요청 확인
3. 백엔드 로그 확인 (Railway Dashboard)
4. 인스타그램 계정 상태 확인
